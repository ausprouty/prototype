function show_notes() {
  var text = "this will show notes ";
  return text;
}

function addNote(){
	console.log('In add_note');
	var notesPage = document.getElementById("notes_page");
	console.log('Notes Page' + notesPage.value);
	// find ids of all textareas
	var txtAreas = document.getElementsByTagName("textarea");
	var len = txtAreas.length;
	var ids = new Array();
	for(i=0; i<len; i++)
	{
		ids.push(txtAreas[i].id);    
	}
	
	// get existing notes
	if (localStorage.notes) {
		var notes = JSON.parse(localStorage.notes);
	} else {
		var notes = [];
	}
    // http://stackoverflow.com/questions/15009448/creating-a-json-dynamically-with-each-input-value-using-jquery
    item = {};
	item.index = notesPage.value;
	
	for (var i = 0; i < len; i++) {
		note = document.getElementById(ids[i]);
		var entry = new Object();
		entry.key = ids[i];
		entry.value = note.value;
		console.log(entry);
		item[i] = entry;
	  }
  notes[notesPage.value] = item;
  console.log (notes);
  console.log (JSON.stringify(notes));
  localStorage.setItem("notes", JSON.stringify(notes)); //put the object back
}
